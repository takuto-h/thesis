%%
% このファイルは、筑波大学情報学群情報科学類の
% 卒業研究論文本体のサンプルです。
% このファイルを書き換えて、この例と同じような書式の論文本体を
% LaTeXを使って作成することができます。
% 
% PC環境や、LaTeX環境の設定によっては漢字コードや改行コードを
% 変更する必要があります。
%%
\documentclass[a4paper,11pt,dvipdfmx]{jreport}

%%【PostScript, JPEG, PNG等の画像の貼り込み】
%% 利用するパッケージを選んでコメントアウトしてください。
\usepackage{graphicx} % for \includegraphics[width=3cm]{sample.eps}
%\usepackage{epsfig} % for \psfig{file=sample.eps,width=3cm}
%\usepackage{epsf} % for \epsfile{file=sample.eps,scale=0.6}
%\usepackage{epsbox} % for \epsfile{file=sample.eps,scale=0.6}

%% dvipdfm を使う場合(dvi->pdfを直接生成する場合)
%\usepackage[dvipdfm]{color,graphicx}
%% dvipdfm を使ってPDFの「しおり」を付ける場合
%\usepackage[dvipdfm,bookmarks=true,bookmarksnumbered=true,bookmarkstype=toc]{hyperref}
%% 参考：dvipdfm 日本語版
%% http://hamilcar.phys.kyushu-u.ac.jp/~hirata/dvipdfm/

\usepackage[bookmarksnumbered=true]{hyperref}
\usepackage{pxjahyper}

\usepackage{times} % use Times Font instead of Computer Modern

\setcounter{tocdepth}{3}
\setcounter{page}{-1}

\setlength{\oddsidemargin}{0.1in}
\setlength{\evensidemargin}{0.1in} 
\setlength{\topmargin}{0in}
\setlength{\textwidth}{6in} 
%\setlength{\textheight}{10.1in}
\setlength{\parskip}{0em}
\setlength{\topsep}{0em}

%\newcommand{\zu}[1]{{\gt \bf 図\ref{#1}}}

%% タイトル生成用パッケージ(重要)
\usepackage{coins-jp}
\usepackage{jumoline}

%% タイトル
%% 【注意】タイトルの最後に\\ を入れるとエラーになります
\title{\Underline{Containerless：オブジェクトシステムの新しいとらえ方}}
%% 著者
\author{林 拓人}
%% 指導教員
\advisor{前田敦司}

%% 専攻名 と 年月 (提出年月)
%% 年月は必要に応じて書き替えてください。
\heiseiyear{26}  % 平成の年度
\majorfield{ソフトウェアサイエンス主専攻}
%\majorfield{情報システム主専攻}
%\majorfield{知能情報メディア主専攻}


\begin{document}
\maketitle
\thispagestyle{empty}
\newpage

\thispagestyle{empty}
\vspace*{20pt plus 1fil}
\parindent=1zw
\noindent
%%
%% 論文の概要(Abstract)
%%
\begin{center}
{\Large \bf 要　　旨}
\vspace{2cm}
\end{center}
[400字程度]

%%%%%
\par
\vspace{0pt plus 1fil}
\newpage

\pagenumbering{roman} % I, II, III, IV 
\tableofcontents
\listoffigures
%\listoftables

\pagebreak \setcounter{page}{1}
\pagenumbering{arabic} % 1,2,3


\chapter{序論}

オブジェクトシステムとは，\textbf{オブジェクト指向プログラミング}\cite{Stroustrup:1988:OP:624569.624721}
を支援するプログラミング言語の機構である．
本研究は従来のオブジェクトシステムのモデル化を通じて考案した，新しいモデルに基づくオブジェクトシステム
\textbf{Containerless}を提案する．
従来とは異なるモデルによって，オブジェクトシステムにまつわる既存の概念に対し新たな見方を提示することが
目的である．

[ここで論文の構成について述べる]


\chapter{従来のオブジェクトシステム}

本研究は従来のオブジェクトシステムのうち，\textbf{クラスにメソッドを定義するもの}と
\textbf{総称関数にメソッドを定義するもの}に注目した．
本章ではこの2種類のメソッド定義の方式をモデル化する．

\section{クラスにメソッドを定義するモデル}
\label{section:class-model}

Smalltalk，C++，Java，Rubyなどの言語に組み込まれているオブジェクトシステムでは，\textbf{クラス}に
所属する形でメソッドを定義する．
これは図\ref{figure:class-model}のようにモデル化することができる．メソッド定義のコード例にはRubyを
用いている．

\begin{figure}[htbp]
	\centering
	\includegraphics[width=9cm]{fig/trees_class-crop.pdf}
	\caption{クラスにメソッドを定義するモデル（例：Ruby）}
	\label{figure:class-model}
\end{figure}

\textbf{環境}は名前と値の対応関係の集合である．
ここではクラス名とクラスを対応付ける\textbf{クラス環境}を指す．
このモデルでは環境にクラスを定義し，クラスにメソッドを定義する．
図\ref{figure:class-model}は環境を根とする木構造によってモデルを表現している．
環境からクラスへと伸びる枝はクラス名によってラベル付けされ，クラスからメソッドへと伸びる枝はメソッド名によって
ラベル付けされる．
このモデルにおいてメソッドはまずクラス名によって分類され，次にメソッド名によって分類されるという2段階の分類が
行われているといえる．

\section{総称関数にメソッドを定義するモデル}

Common Lisp，Dylanなどの言語に組み込まれているオブジェクトシステムでは，\textbf{総称関数}に
所属する形でメソッドを定義する．
これは図\ref{figure:gf-model}のようにモデル化することができる．メソッド定義のコード例にはCommon Lispを
用いている．

\begin{figure}[htbp]
	\centering
	\includegraphics[width=10cm]{fig/trees_gf-crop.pdf}
	\caption{総称関数にメソッドを定義するモデル（例：Common Lisp）}
	\label{figure:gf-model}
\end{figure}

総称関数は複数のメソッドを束ねる関数で，与えられた引数のクラスに応じて適切なメソッドを選択し呼び出す．
\verb|defmethod|はメソッドを同名の総称関数に追加する．もし総称関数が定義されていなければ
新しく生成する．

ここでの環境は関数名と関数を対応付ける\textbf{関数環境}を指す．
このモデルでは環境に総称関数を定義し，総称関数にメソッドを定義する．
図\ref{figure:gf-model}は図\ref{figure:class-model}と同様，環境を根とする木構造によって
モデルを表現している．
環境から総称関数へと伸びる枝はメソッド名（＝総称関数名）によってラベル付けされ，総称関数からメソッドへと
伸びる枝はクラス名によってラベル付けされる．
このモデルにおいてメソッドはまずメソッド名によって分類され，次にクラス名によって分類されるという，
図\ref{figure:class-model}と同じ2段階の分類が行われているといえる．

なおここではモデルを単純化するため，総称関数が1つの引数のクラスに応じてメソッドを選択する
\textbf{単一ディスパッチ}に限定して考え，総称関数からメソッドへと伸びる枝を1つのクラス名のみでラベル付け
している．
Common Lispは複数の引数のクラスに応じてメソッドを選択する\textbf{多重ディスパッチ}に対応しているが，
これについては考慮していない．

[多重ディスパッチについて書いた章へのrefを載せるかも]


\chapter{提案するオブジェクトシステム}

\begin{figure}[htbp]
	\centering
	\includegraphics[width=7cm]{fig/trees_containerless-crop.pdf}
	\caption{環境にメソッドを直接定義するモデル}
	\label{figure:containerlsss-model}
\end{figure}


\chapter{実装：プログラミング言語Suzu}

\chapter{考察}

\begin{enumerate}
\item プロトタイプベースの方が動的
\item 静的型検査は型クラスみたいにしてできそう
\item Clojureのマルチメソッドはオブジェクトシステムからポリモーフィズムだけを抽出したもの
\end{enumerate}

\chapter{結論}

知見を得た

\chapter*{謝辞}
\addcontentsline{toc}{chapter}{\numberline{}謝辞}

\newpage

\addcontentsline{toc}{chapter}{\numberline{}参考文献}
\renewcommand{\bibname}{参考文献}

%% 参考文献に jbibtex を使う場合
\bibliographystyle{junsrt}
\bibliography{thesis}
%% [compile] jbibtex sample; platex sample; platex sample;

%% 参考文献を直接ファイルに含めて書く場合
%\begin{thebibliography}{1}
%\bibitem{RakRak}
%野寺隆志.
%\newblock 楽々 \LaTeX.
%\newblock 共立出版, 1990.
%
%\bibitem{JiyuuJizai}
%磯崎秀樹.
%\newblock \LaTeX 自由自在.
%\newblock サイエンス社, July 1992.
%
%\bibitem{bryant-ieeetc86}
%Randal~E. Bryant.
%\newblock Graph-based algorithms for {B}oolean function manipulation.
%\newblock {\em IEEE Transactions on Computers}, Vol. C-35, No.~8, pp. 677--691,
%  August 1986.
%\end{thebibliography}

\end{document}
