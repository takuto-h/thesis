%%
% このファイルは、筑波大学情報学群情報科学類の
% 卒業研究論文本体のサンプルです。
% このファイルを書き換えて、この例と同じような書式の論文本体を
% LaTeXを使って作成することができます。
% 
% PC環境や、LaTeX環境の設定によっては漢字コードや改行コードを
% 変更する必要があります。
%%
\documentclass[a4paper,11pt,dvipdfmx]{jreport}

%%【PostScript, JPEG, PNG等の画像の貼り込み】
%% 利用するパッケージを選んでコメントアウトしてください。
\usepackage{graphicx} % for \includegraphics[width=3cm]{sample.eps}
%\usepackage{epsfig} % for \psfig{file=sample.eps,width=3cm}
%\usepackage{epsf} % for \epsfile{file=sample.eps,scale=0.6}
%\usepackage{epsbox} % for \epsfile{file=sample.eps,scale=0.6}

%% dvipdfm を使う場合(dvi->pdfを直接生成する場合)
%\usepackage[dvipdfm]{color,graphicx}
%% dvipdfm を使ってPDFの「しおり」を付ける場合
%\usepackage[dvipdfm,bookmarks=true,bookmarksnumbered=true,bookmarkstype=toc]{hyperref}
%% 参考：dvipdfm 日本語版
%% http://hamilcar.phys.kyushu-u.ac.jp/~hirata/dvipdfm/

\usepackage[bookmarksnumbered=true]{hyperref}
\usepackage{pxjahyper}

\usepackage{times} % use Times Font instead of Computer Modern

\setcounter{tocdepth}{3}
\setcounter{page}{-1}

\setlength{\oddsidemargin}{0.1in}
\setlength{\evensidemargin}{0.1in} 
\setlength{\topmargin}{0in}
\setlength{\textwidth}{6in} 
%\setlength{\textheight}{10.1in}
\setlength{\parskip}{0em}
\setlength{\topsep}{0em}

%\newcommand{\zu}[1]{{\gt \bf 図\ref{#1}}}

%% タイトル生成用パッケージ(重要)
\usepackage{coins-jp}
\usepackage{jumoline}

%% タイトル
%% 【注意】タイトルの最後に\\ を入れるとエラーになります
\title{\Underline{レキシカル環境にメソッドを定義する\\オブジェクト指向言語Suzu}}
%% 著者
\author{林 拓人}
%% 指導教員
\advisor{前田敦司}

%% 専攻名 と 年月 (提出年月)
%% 年月は必要に応じて書き替えてください。
\heiseiyear{26}  % 平成の年度
\majorfield{ソフトウェアサイエンス主専攻}
%\majorfield{情報システム主専攻}
%\majorfield{知能情報メディア主専攻}

\makeatletter%% プリアンブルで定義する場合は必須

%% (j)report・(j)book クラスの場合
%% 
\renewenvironment{thebibliography}[1]% 再定義
{\chapter*{\bibname\@mkboth{\bibname}{\bibname}}%
	\addcontentsline{toc}{chapter}{\numberline{}\bibname}% この行追加
	\list{\@biblabel{\@arabic\c@enumiv}}%
	{\settowidth\labelwidth{\@biblabel{#1}}%
		\leftmargin\labelwidth
		\advance\leftmargin\labelsep
		\@openbib@code
		\usecounter{enumiv}%
		\let\p@enumiv\@empty
		\renewcommand\theenumiv{\@arabic\c@enumiv}}%
	\sloppy
	\clubpenalty4000
	\@clubpenalty\clubpenalty
	\widowpenalty4000%
	\sfcode`\.\@m}
{\def\@noitemerr
	{\@latex@warning{Empty `thebibliography' environment}}%
	\endlist}

\makeatother%% プリアンブルで定義する場合は必須

\usepackage{listings}

\begin{document}
\maketitle
\thispagestyle{empty}
\newpage

\thispagestyle{empty}
\vspace*{20pt plus 1fil}
\parindent=1zw
\noindent
%%
%% 論文の概要(Abstract)
%%
\begin{center}
{\Large \bf 要　　旨}
\vspace{2cm}
\end{center}
[400字程度]

%%%%%
\par
\vspace{0pt plus 1fil}
\newpage

\pagenumbering{roman} % I, II, III, IV 
\tableofcontents
%\listoffigures
%\listoftables

\pagebreak \setcounter{page}{1}
\pagenumbering{arabic} % 1,2,3


\chapter{序論}

オブジェクト指向言語において，あるクラスのインスタンスを操作するメソッドを定義するには，
メソッドの内容の他にクラス名とメソッド名の2つを指定する必要がある．
これに対し変数を定義するには，変数の内容の他に変数名を指定する必要がある．
例えばプログラミング言語Rubyでは，
\begin{quote}
\begin{verbatim}
class C
  def m
    ...
  end
end
\end{verbatim}
\end{quote}
のようにしてクラス\verb|C|のインスタンスを操作するメソッド\verb|m|を定義でき，
\begin{quote}
\begin{verbatim}
v = ...
\end{verbatim}
\end{quote}
のようにして変数\verb|v|を定義できる．

ここで1つのアイデアが考えられる．変数名の代わりに\textbf{クラス名とメソッド名の組}を用いることで，
変数と同じシンタックス，\textbf{かつ，同じセマンティクスで}メソッドを定義できるのではないか．
例えばシンタックスとしては
\begin{quote}
\begin{verbatim}
C#m = ...
\end{verbatim}
\end{quote}
のような形式が考えられる．\verb|C#m|はクラス名\verb|C|とメソッド名\verb|m|の組である．

本研究の目的は，変数とメソッドの定義を同じシンタックスかつ同じセマンティクスで行うプログラミング言語Suzuを試作し，
この方式の利点および欠点を調査することである．

本稿は次のような構成をとる．
第\ref{chapter:implementation}章でプログラミング言語Suzuの言語仕様を解説する．
第\ref{chapter:discussion}章でSuzuのプログラム例と共にこのメソッド定義方式の利点および欠点について
考察する．
第\ref{chapter:related-work}章で関連研究について，第\ref{chapter:future-work}章で今後の課題，
第\ref{chapter:conclusion}章で結論を述べる．


\chapter{プログラミング言語Suzu}
\label{chapter:implementation}

任意の式を記述できる箇所は\verb|...|を用いて省略する．

\section{基本的な要素}

変数は\verb|let|を用いて定義する．例えば変数\verb|x|を\verb|...|の値で初期化して定義するには
以下のようにする．
\begin{quote}
\begin{verbatim}
let x = ...
\end{verbatim}
\end{quote}

Suzuでは関数リテラルを記述できる．引数\verb|param1|，\verb|param2|を受け取って\verb|...|を
実行する関数は以下のように書ける．
\begin{quote}
\begin{verbatim}
^(param1, param2){ ... }
\end{verbatim}
\end{quote}

関数は\verb|def|を用いて定義できる．
\begin{quote}
\begin{verbatim}
def func(param1, param2):
  ...
end
\end{verbatim}
\end{quote}
これは以下のコードと等価である．
\begin{quote}
\begin{verbatim}
let func = ^(param1, param2){ ... }
\end{verbatim}
\end{quote}

関数\verb|func|を引数\verb|arg1|，\verb|arg2|で呼び出すには以下のようにする．
\begin{quote}
\begin{verbatim}
func(arg1, arg2)
\end{verbatim}
\end{quote}

関数リテラルを高階関数の最後の引数として渡す際は専用の構文が使える．例えば
\begin{quote}
\begin{verbatim}
func(arg1, arg2, ^(param1, param2){ ... })
\end{verbatim}
\end{quote}
という関数呼び出しは
\begin{quote}
\begin{verbatim}
func(arg1, arg2)^(param1, param2):
  ...
end
\end{verbatim}
\end{quote}
と書ける．

\section{オブジェクトシステム}

\section{モジュールシステム}


\chapter{考察}
\label{chapter:discussion}

\section{継承}
superとか

\section{アクセス制限}
protectedはない

\section{モジュール分割}
Visitorパターン？

\section{ローカルメソッド}
Refinements

\chapter{関連研究}
\label{chapter:related-work}

CLOS

Classbox，Method Shells

Haskellの型クラス

OCamlのユーザー定義演算子

Scalaのimplicit conversion

.NETの拡張メソッド

MixJuice


\chapter{今後の課題}
\label{chapter:future-work}

\section{多重ディスパッチ}

\section{ダイナミックスコープ}

\section{効率的な実装}


\chapter{結論}
\label{chapter:conclusion}


\chapter*{謝辞}
\addcontentsline{toc}{chapter}{\numberline{}謝辞}

本研究を行うにあたり，多大なるご指導とご助言を下さった筑波大学システム情報系前田敦司准教授に
深く感謝いたします．
また第56回プログラミング・シンポジウムにて有益なコメントを下さった方々に感謝いたします．
最後に貴重なご意見を下さった筑波大学インタラクティブ・アーキテクチャ研究室の皆様とOBの水島宏太さんに
感謝いたします．

\newpage

%\addcontentsline{toc}{chapter}{\numberline{}参考文献}
\renewcommand{\bibname}{参考文献}

%% 参考文献に jbibtex を使う場合
\bibliographystyle{junsrt}
\bibliography{thesis}
%% [compile] jbibtex sample; platex sample; platex sample;

%% 参考文献を直接ファイルに含めて書く場合
%\begin{thebibliography}{1}
%\bibitem{RakRak}
%野寺隆志.
%\newblock 楽々 \LaTeX.
%\newblock 共立出版, 1990.
%
%\bibitem{JiyuuJizai}
%磯崎秀樹.
%\newblock \LaTeX 自由自在.
%\newblock サイエンス社, July 1992.
%
%\bibitem{bryant-ieeetc86}
%Randal~E. Bryant.
%\newblock Graph-based algorithms for {B}oolean function manipulation.
%\newblock {\em IEEE Transactions on Computers}, Vol. C-35, No.~8, pp. 677--691,
%  August 1986.
%\end{thebibliography}

\end{document}
