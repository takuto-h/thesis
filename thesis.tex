%%
% このファイルは、筑波大学情報学群情報科学類の
% 卒業研究論文本体のサンプルです。
% このファイルを書き換えて、この例と同じような書式の論文本体を
% LaTeXを使って作成することができます。
% 
% PC環境や、LaTeX環境の設定によっては漢字コードや改行コードを
% 変更する必要があります。
%%
\documentclass[a4paper,11pt,dvipdfmx]{jreport}

%%【PostScript, JPEG, PNG等の画像の貼り込み】
%% 利用するパッケージを選んでコメントアウトしてください。
\usepackage{graphicx} % for \includegraphics[width=3cm]{sample.eps}
%\usepackage{epsfig} % for \psfig{file=sample.eps,width=3cm}
%\usepackage{epsf} % for \epsfile{file=sample.eps,scale=0.6}
%\usepackage{epsbox} % for \epsfile{file=sample.eps,scale=0.6}

%% dvipdfm を使う場合(dvi->pdfを直接生成する場合)
%\usepackage[dvipdfm]{color,graphicx}
%% dvipdfm を使ってPDFの「しおり」を付ける場合
%\usepackage[dvipdfm,bookmarks=true,bookmarksnumbered=true,bookmarkstype=toc]{hyperref}
%% 参考：dvipdfm 日本語版
%% http://hamilcar.phys.kyushu-u.ac.jp/~hirata/dvipdfm/

\usepackage[bookmarksnumbered=true]{hyperref}
\usepackage{pxjahyper}

\usepackage{times} % use Times Font instead of Computer Modern

\setcounter{tocdepth}{3}
\setcounter{page}{-1}

\setlength{\oddsidemargin}{0.1in}
\setlength{\evensidemargin}{0.1in} 
\setlength{\topmargin}{0in}
\setlength{\textwidth}{6in} 
%\setlength{\textheight}{10.1in}
\setlength{\parskip}{0em}
\setlength{\topsep}{0em}

%\newcommand{\zu}[1]{{\gt \bf 図\ref{#1}}}

%% タイトル生成用パッケージ(重要)
\usepackage{coins-jp}
\usepackage{jumoline}

%% タイトル
%% 【注意】タイトルの最後に\\ を入れるとエラーになります
\title{\Underline{Containerless：オブジェクトシステムの新しいとらえ方}}
%% 著者
\author{林 拓人}
%% 指導教員
\advisor{前田敦司}

%% 専攻名 と 年月 (提出年月)
%% 年月は必要に応じて書き替えてください。
\heiseiyear{26}  % 平成の年度
\majorfield{ソフトウェアサイエンス主専攻}
%\majorfield{情報システム主専攻}
%\majorfield{知能情報メディア主専攻}


\begin{document}
\maketitle
\thispagestyle{empty}
\newpage

\thispagestyle{empty}
\vspace*{20pt plus 1fil}
\parindent=1zw
\noindent
%%
%% 論文の概要(Abstract)
%%
\begin{center}
{\Large \bf 要　　旨}
\vspace{2cm}
\end{center}
[400字程度]

%%%%%
\par
\vspace{0pt plus 1fil}
\newpage

\pagenumbering{roman} % I, II, III, IV 
\tableofcontents
\listoffigures
%\listoftables

\pagebreak \setcounter{page}{1}
\pagenumbering{arabic} % 1,2,3


\chapter{序論}

オブジェクトシステムとは，\textbf{オブジェクト指向プログラミング}\cite{Stroustrup:1988:OP:624569.624721}
を支援するプログラミング言語の機構である．
本研究は従来のオブジェクトシステムのモデル化を通じて考案した，新しいモデルに基づくオブジェクトシステム
\textbf{Containerless}を提案する．
従来とは異なるモデルによって，オブジェクトシステムにまつわる既存の概念に対し新たな見方を提示することが
目的である．

[ここで論文の構成について述べる]


\chapter{従来のオブジェクトシステム}

オブジェクトシステムのメソッド呼び出しにおいて，オブジェクトに応じて実際に呼び出すメソッドを決定することを
\textbf{メソッドディスパッチ}と呼ぶ．
本章では従来のオブジェクトシステムのうち，オブジェクトの\textbf{クラス}を用いてメソッドディスパッチを実行
するもののモデル化を行う．

クラスを用いてメソッドディスパッチを行う従来のオブジェクトシステムは，メソッド定義の方式に着目してモデル化すると，
次の2つのモデルに分類することができる．
\begin{itemize}
	\item クラスにメソッドを定義するモデル
	\item 総称関数にメソッドを定義するモデル
\end{itemize}
それぞれのモデルについて解説していく．

\section{クラスにメソッドを定義するモデル}

Smalltalk，C++，Java，Rubyなどの言語に組み込まれているオブジェクトシステムでは，クラスに所属する形で
メソッドを定義する．
図\ref{figure:class-model}はメソッド定義を行うRubyのコードを例にメソッド定義のモデルを
示したものである．

\begin{figure}[htbp]
	\centering
	\includegraphics[width=9cm]{fig/trees_class-crop.pdf}
	\caption{クラスにメソッドを定義するモデル（例：Ruby）}
	\label{figure:class-model}
\end{figure}

\textbf{環境}とは名前と値の対応関係の集合である．
このモデルではクラス名とクラスを対応付ける\textbf{クラス環境}にクラスを定義し，クラスにメソッドを定義する．
図\ref{figure:class-model}では，クラス環境からクラス名AおよびBによってラベル付けされたエッジがクラスへと伸び，
それぞれのクラスからメソッド名mおよびnによってラベル付けされたエッジがメソッドへと伸びる木構造によってモデルを
表現している．
このモデルにおいてメソッドはまずクラス名によって分類され，次にメソッド名によって分類されるという2段階の分類が
行われているといえる．

\section{総称関数にメソッドを定義するモデル}

Common Lisp，Dylanなどの言語に組み込まれているオブジェクトシステムでは，クラスではなく\textbf{総称関数}に
所属する形でメソッドを定義する．
図\ref{figure:gf-model}はメソッド定義を行うCommon Lispのコードを例にメソッド定義のモデルを
示したものである．

\begin{figure}[htbp]
	\centering
	\includegraphics[width=10cm]{fig/trees_gf-crop.pdf}
	\caption{総称関数にメソッドを定義するモデル（例：Common Lisp）}
	\label{figure:gf-model}
\end{figure}

総称関数とは複数のメソッドを束ねた関数で，引数のクラスを用いてメソッドディスパッチ
このモデルでは関数名と関数を対応付ける\textbf{関数環境}に総称関数を定義し，総称関数にメソッドを定義する．
図\ref{figure:class-model}では，クラス環境からクラス名AおよびBによってラベル付けされたエッジがクラスへと伸び，
それぞれのクラスからメソッド名mおよびnによってラベル付けされたエッジがメソッドへと伸びる木構造によってモデルを
表現している．
このモデルにおいてメソッドはまずクラス名によって分類され，次にメソッド名によって分類されるという2段階の分類が
行われているといえる．

一方，総称関数にメソッドを定義するモデルでは，
関数環境に総称関数を定義し，総称関数にメソッ
ドを定義します．例えば左のCommon Lispによる
メソッド定義は，右のような木構造で表すことが
できます．defmethodは暗黙的に同名の総称関数を
定義し，メソッドはその総称関数に追加されま
す．総称関数は与えられた引数のクラスに応じて
適切なメソッドを呼び出すことでポリモーフィズ
ムを実現します．つまり，トップレベルの関数環
境にメソッド名によってラベル付けされた総称関
数がぶら下がり，それぞれの総称関数に引数のク
ラス名によってラベル付けされたメソッドがぶら
下がります．言い方を変えると，このモデルにお
いてメソッドはまずメソッド名によって分類さ
れ，次にクラス名によって分類されるという，先
ほどと同じく2段階の分類が行われているといえま
す．なお，ここではモデルを単純化するため，総
称関数が1つのクラスに応じてメソッドを選択する
単一ディスパッチに限定して考えています．


\chapter{提案するオブジェクトシステム}

\begin{figure}[htbp]
	\centering
	\includegraphics[width=7cm]{fig/trees_containerless-crop.pdf}
	\caption{環境にメソッドを直接定義するモデル}
	\label{figure:containerlsss-model}
\end{figure}


\chapter{実装：プログラミング言語Suzu}

\chapter{考察}

\begin{enumerate}
\item プロトタイプベースの方が動的
\item 静的型検査は型クラスみたいにしてできそう
\item Clojureのマルチメソッドはオブジェクトシステムからポリモーフィズムだけを抽出したもの
\end{enumerate}

\chapter{結論}

知見を得た

\chapter*{謝辞}
\addcontentsline{toc}{chapter}{\numberline{}謝辞}

\newpage

\addcontentsline{toc}{chapter}{\numberline{}参考文献}
\renewcommand{\bibname}{参考文献}

%% 参考文献に jbibtex を使う場合
\bibliographystyle{junsrt}
\bibliography{thesis}
%% [compile] jbibtex sample; platex sample; platex sample;

%% 参考文献を直接ファイルに含めて書く場合
%\begin{thebibliography}{1}
%\bibitem{RakRak}
%野寺隆志.
%\newblock 楽々 \LaTeX.
%\newblock 共立出版, 1990.
%
%\bibitem{JiyuuJizai}
%磯崎秀樹.
%\newblock \LaTeX 自由自在.
%\newblock サイエンス社, July 1992.
%
%\bibitem{bryant-ieeetc86}
%Randal~E. Bryant.
%\newblock Graph-based algorithms for {B}oolean function manipulation.
%\newblock {\em IEEE Transactions on Computers}, Vol. C-35, No.~8, pp. 677--691,
%  August 1986.
%\end{thebibliography}

\end{document}
